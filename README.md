# RobôCIn Soccer Analyzer
![](https://img.shields.io/badge/version-v2.0.0-success)
![](https://img.shields.io/badge/python-v3.10-blue)
![](https://img.shields.io/badge/pandas-v1.2.4-informational)

## Description  
This is a Python package created by the members of RobôCIn robotics team
from the Informatics Centre of the Federal University of Pernambuco, CIn - UFPE.
It's purpose is to provide a building block for data science inside the 
2D Simulation, Very Small Size Soccer(VSS) and Small Size League (SSL) 
environments using logfiles generated by each of the categories.

### Table of contents
* [Description](#description)
* [Dependencies](#dependencies)
* [Setup](#setup)
* [Getting Started](#getting-started)

### Dependencies
This project was created with:
- [Python](https://www.python.org/) 3.10.x or above
    - Used to create common classes, structures and algorithms that provides 
    analysis.
- [Pandas](https://pandas.pydata.org/) 1.2.4 or above
    - Provides a simple structure to manipulate all the data gathered. 
- [Numpy](https://numpy.org/) 1.20.3 or above
- [Matplotlib](https://matplotlib.org/) 3.5 or above
- [Seaborn](https://seaborn.pydata.org/) 0.11.2 or above

## Setup
You can install this project as Python package through pip or via git. **We highly recommend you to install SoccerAnalyzer in a miniconda environment using our requirements.txt file.**

```
$ conda create --name analyzer python>=3.10
$ conda activate analyzer
```

### Via github (with miniconda environment)
```
$ git clone git@github.com:robocin/SoccerAnalyzer.git
$ cd SoccerAnalyzer
$ pip install requirements.txt
$ pip install .
```

### Via pip (with miniconda environment)
```
$ pip install socceranalyzer
```

## Getting Started
This package is capable of delivering built-in analysis that were already
created or to be a platform that enables you to create your own analysis.

### Parameters
Before SoccerAnalyzer execute it's analysis, it consumes a configuration [file](configuration.yml). **You should change this file values in order to SoccerAnalyzer work as you expect.** 

| Parameters      | Type          | Default value     |
| -------------  | ------------- | ----------------  |
| -v, --version  | `string`      | `None`            |
| -f, --file     | `string`      | configuration.yml |

The [configuration.yml](configuration.yml) is responsible for setting up your SoccerAnalyzer execution. All analysis should be mapped into a entry here. You should specify your .csv log file path, category, and which analysis do you want to run.

### Using as analyzer
##### How does it work?
Each analysis is a class, they are instantiated and interfaced by a [Facade](https://refactoring.guru/design-patterns/facade)
which is the **common.chore.match_analyzer** module. It is responsible for
creating each analysis object.

When an analysis is instantiated, it builds itself and gathers everything needed to provide the analysis. All information is stored and can be accessed through the Facade targeting specific analysis with **MatchAnalyzer.example_analysis.results()**. 

The **MatchAnalyzer** receives a **Match** object as parameter.

The **Match** receives a **pandas.DataFrame** and a **Category** object as parameter.

These inputs are **mandatory**, otherwise there will be no data to be analyzed.

##### Code example

```python
import pandas as pd

from socceranalyzer import MatchAnalyzer, Match, SIM2D

match_object = Match(dataframe, SIM2D)
match_analyzer = MatchAnalyzer(match_object)
match_analyzer.collect_results()
```

---
> 2021, RobôCIn

